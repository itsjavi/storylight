# StoryLite Contributing Guide

Thanks for your interest to contribute to StoryLite. Please take a moment and read through this guide:

## Repository

StoryLite is a monorepo using turbo and pnpm workspaces. We use Node v18 in our local dev setup.
The package manager used to install dependencies must be [pnpm v8](https://pnpm.io/) or greater.

It can be installed as:

```sh
npm install -g pnpm@8
```

Install the dependencies after forking and cloning the repository

```sh
pnpm install
```

## Developing

The main packages are `ui` and `vite-plugin`, and can be found in `packages/*`.

You can quickly build and preview your changes by running the `dev` command
(it will also start the React example project):

```sh
pnpm dev
```

This starts a Vite dev server on `http://localhost:7707`, with the React examples.

## Preview

To preview the static StoryLite site generated by the example React project, run:

```sh
pnpm preview
```

This starts a static web server on `http://localhost:8080`, with the static assets generated
by Vite.

## Tests

Please, cover all your changes with `Jest` tests, and then run `pnpm test` or `pnpm test:coverage`.

Before creating a PR you should also make sure all quality checks are still passing by simply running:

```sh
pnpm quality-check-all
```

This runs linters, type checks, tests and builds all packages.

## Documentation

If possible, your changes should be also documented.

## Changesets

StoryLite uses [changesets](https://github.com/changesets/changesets) to manage the changelog and releases.

Commit to `main` that comes from a PR, should
[add a changeset](https://github.com/changesets/changesets/blob/main/docs/adding-a-changeset.md)
(or you will be asked to do so in your PR):

```sh
pnpm changeset
```

You will be asked to select the scope and version (patch, minor, major).
Then you should add a summary of the changes in the following format:

- WHAT the change is
- WHY the change was made
- HOW a consumer should update their code to use the new changes (if applicable)

This will create an `.changeset/*.md` file that gets merged with your PR and attached to the release
by admins later.

The `*.md` file will have a random name. Don't worry about it, the file name is not important,
and it's not used to generate the changelog. Commit the file in your PR.
